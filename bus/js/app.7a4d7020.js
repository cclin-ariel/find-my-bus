(function(t){function e(e){for(var c,r,i=e[0],u=e[1],s=e[2],d=0,l=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&l.push(a[r][0]),a[r]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(t[c]=u[c]);b&&b(e);while(l.length)l.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],c=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(c=!1)}c&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var c={},a={app:0},o=[];function r(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=c,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)r.d(n,c,function(e){return t[e]}.bind(null,c));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/bus/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var b=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0999":function(t,e,n){"use strict";n("1974")},1974:function(t,e,n){},"234d":function(t,e,n){"use strict";n("da56")},"27f3":function(t,e,n){t.exports=n.p+"img/logo.81cb3597.svg"},"31bb":function(t,e,n){},"40a2":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function a(t,e){var n=Object(c["B"])("router-view");return Object(c["u"])(),Object(c["e"])(n)}n("b9b6");var o=n("6b0d"),r=n.n(o);const i={},u=r()(i,[["render",a]]);var s=u,b=n("6c02"),d=function(t){return Object(c["x"])("data-v-1158d02e"),t=t(),Object(c["v"])(),t},l={key:0,class:"Landing-Page-First-Impression bg-white d-flex"},h=d((function(){return Object(c["h"])("div",{class:"text-bldGreen Noto-Serif text-center m-auto dialog-bottom"},[Object(c["h"])("div",{class:"Page-subtitle m-2 pt-4"},"不好意思請問一下"),Object(c["h"])("div",{class:"Page-Title pt-1"},"這班公車幾點到？")],-1)})),p=[h],f={key:1,class:"animate-bottom"},O={class:"fixed-top"},j={class:"container-fluid pt-5"},m=d((function(){return Object(c["h"])("div",{class:"search-title text-center text-bldBlack Noto-Serif"}," 找指定的公車 ",-1)})),v={class:"row g-4 Noto-Sans mx-auto p-0"},g={class:"col-9 search-input p-0"},D=d((function(){return Object(c["h"])("button",{type:"submit",class:"search-btn btn btn-bldGreen text-white"}," 搜尋 ",-1)})),S=d((function(){return Object(c["h"])("div",{class:"OR text-bldGreen"},[Object(c["h"])("span",{class:"line"}),Object(c["h"])("span",{class:"txt Noto-Serif"},"或是"),Object(c["h"])("span",{class:"line"})],-1)})),x={class:"card mx-auto"},w=d((function(){return Object(c["h"])("div",{id:"selected-routeName",class:"card-header text-center bg-bldGreen text-white"}," 選擇公車路線 ",-1)})),y=d((function(){return Object(c["h"])("option",{value:""},"請選擇",-1)})),T=["value"];function k(t,e,n,a,o,r){var i=Object(c["B"])("Header"),u=Object(c["B"])("router-link"),s=Object(c["B"])("Footer");return Object(c["u"])(),Object(c["g"])(c["a"],null,[this.isLoading?(Object(c["u"])(),Object(c["g"])("div",l,p)):Object(c["f"])("",!0),this.isLoading?Object(c["f"])("",!0):(Object(c["u"])(),Object(c["g"])("div",f,[Object(c["h"])("div",O,[Object(c["k"])(i)]),Object(c["h"])("div",j,[m,Object(c["h"])("form",v,[Object(c["h"])("div",g,[Object(c["J"])(Object(c["h"])("input",{required:"",type:"text",class:"form-control ps-2 pe-0",id:"routeName",placeholder:"輸入公車路線名稱","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.tempRouteName=t}),onChange:e[1]||(e[1]=function(){return r.updateRouteName&&r.updateRouteName.apply(r,arguments)})},null,544),[[c["G"],o.tempRouteName]])]),Object(c["k"])(u,{class:"col-3",to:{name:"SearchResult",params:{routeName:this.routeName}}},{default:Object(c["I"])((function(){return[D]})),_:1},8,["to"])]),S,Object(c["h"])("div",x,[w,Object(c["J"])(Object(c["h"])("select",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return o.selected=t}),class:"card-body form-select-sm text-center","aria-label":"Default select example",onChange:e[3]||(e[3]=function(){return r.updateRouteIdToDetail&&r.updateRouteIdToDetail.apply(r,arguments)})},[y,(Object(c["u"])(!0),Object(c["g"])(c["a"],null,Object(c["A"])(o.busRoutes,(function(t){return Object(c["u"])(),Object(c["g"])("option",{value:t.RouteID,key:t.RouteID},Object(c["D"])(t.RouteName.Zh_tw),9,T)})),128))],544),[[c["F"],o.selected]])])]),Object(c["k"])(s)]))],64)}var N=n("6c2d"),B=n("27f3"),R=n.n(B),I=function(t){return Object(c["x"])("data-v-010f49e9"),t=t(),Object(c["v"])(),t},A={class:"px-2 header"},H={class:"navbar shadow bg-white mx-auto mt-2 px-0"},M={class:"container-fluid d-flex"},_={class:"pe-1"},J=I((function(){return Object(c["h"])("img",{class:"logo",src:R.a,alt:"logo"},null,-1)})),C=I((function(){return Object(c["h"])("div",{class:"title Noto-Serif ms-1 text-bldGreen"}," 這班公車幾點到～桃園限定～ ",-1)})),q=I((function(){return Object(c["h"])("ul",{class:"navbar-nav me-auto mb-2 mb-md-0"},null,-1)})),P=I((function(){return Object(c["h"])("button",{class:"btn btn-bldGreen text-white Noto-Sans px-2"}," 現在就問 >> ",-1)}));function z(t,e,n,a,o,r){var i=Object(c["B"])("router-link");return Object(c["u"])(),Object(c["g"])("div",null,[Object(c["h"])("div",A,[Object(c["h"])("nav",H,[Object(c["h"])("div",M,[Object(c["h"])("div",_,[Object(c["k"])(i,{to:{name:"Index"}},{default:Object(c["I"])((function(){return[J]})),_:1})]),C,q,Object(c["h"])("div",null,[Object(c["k"])(i,{to:{name:"Index"}},{default:Object(c["I"])((function(){return[P]})),_:1})])])])])])}var G={name:"Header",data:function(){return{}},mounted:function(){},methods:{}};n("9145");const K=r()(G,[["render",z],["__scopeId","data-v-010f49e9"]]);var V=K,L=function(t){return Object(c["x"])("data-v-53ecf13c"),t=t(),Object(c["v"])(),t},X={class:"footer mt-auto py-3 text-white text-center"},E={class:"gray-footer bg-bldGray py-5"},$=L((function(){return Object(c["h"])("p",{class:"title fs-4 px-auto Noto-Serif"},[Object(c["h"])("span",null,"沒有找到想找的公車嗎？"),Object(c["h"])("span",null,"再搜尋一次👇🏻")],-1)})),F=L((function(){return Object(c["h"])("div",{class:"title-mobile fs-4 px-auto Noto-Serif"},[Object(c["h"])("p",null,"沒有找到想找的公車嗎？"),Object(c["h"])("p",null,"再搜尋一次👇🏻")],-1)})),Z=L((function(){return Object(c["h"])("button",{class:"footer-btn btn btn-bldGreen text-white Noto-Sans px-2"}," 找指定的公車 ",-1)})),U=Object(c["i"])('<div class="black-footer py-5" data-v-53ecf13c><div class="createdBy py-0 my-0 Noto-Serif" data-v-53ecf13c><p data-v-53ecf13c> Designed by <a href="https://www.instagram.com/kou.ikusen/" target="_blank" data-v-53ecf13c>Kiks</a> and Developed by <a href="https://twitter.com/wahaha47168" target="_blank" data-v-53ecf13c>cclin</a> with ❤️ </p><div class="mobile Noto-Serif lh-1" data-v-53ecf13c><p data-v-53ecf13c> Designed by <a href="https://www.instagram.com/kou.ikusen/" data-v-53ecf13c>Kiks</a></p><p data-v-53ecf13c> Developed by <a href="https://twitter.com/wahaha47168" data-v-53ecf13c>cclin</a></p><p data-v-53ecf13c>with ❤️</p></div></div><div class="copyright Noto-Sans" data-v-53ecf13c><p class="text-white-50" data-v-53ecf13c> © 2021 Kiks &amp; cclin. All Rights Reseved. </p></div></div>',1);function W(t,e,n,a,o,r){var i=Object(c["B"])("router-link");return Object(c["u"])(),Object(c["g"])("div",null,[Object(c["h"])("footer",X,[Object(c["h"])("div",E,[$,F,Object(c["h"])("div",null,[Object(c["k"])(i,{to:{name:"Index"}},{default:Object(c["I"])((function(){return[Z]})),_:1})])]),U])])}var Q={name:"Footer",data:function(){return{}},mounted:function(){},methods:{}};n("7f45");const Y=r()(Q,[["render",W],["__scopeId","data-v-53ecf13c"]]);var tt=Y,et={name:"Index",components:{Header:V,Footer:tt},data:function(){return{isLoading:!0,routeName:"none",RouteID:"none",tempRouteName:"",selected:"",busRoutes:[]}},created:function(){this.getBusRoutes()},mounted:function(){var t=this;setTimeout((function(){t.isLoading=!1}),500)},methods:{getBusRoutes:function(){var t=this,e=n("bc3a"),c="https://ptx.transportdata.tw/MOTC/v2/Bus/Route/City/Taoyuan?$format=JSON";e.get(c,{headers:t.getAuthorizationHeader()}).then((function(e){t.busRoutes=e.data})).catch((function(t){console.log(t)})),this.getAuthorizationHeader()},updateRouteName:function(){this.routeName=this.tempRouteName},updateRouteIdToDetail:function(){this.RouteID=this.selected,this.$router.push({name:"BusDetail",params:{routeID:this.selected}})},getAuthorizationHeader:function(){var t="769b6e9f60594d2397e5ae2e24a5c5e3",e="qM6fHVPRJkxJTxVkDwJL8ddKJ1A",n=(new Date).toGMTString(),c=new N["a"]("SHA-1","TEXT");c.setHMACKey(e,"TEXT"),c.update("x-date: "+n);var a=c.getHMAC("B64"),o='hmac username="'+t+'", algorithm="hmac-sha1", headers="x-date", signature="'+a+'"';return{Authorization:o,"X-Date":n}}}};n("0999");const nt=r()(et,[["render",k],["__scopeId","data-v-1158d02e"]]);var ct=nt,at={class:"fixed-top"},ot={class:"container-fluid pt-5"},rt={class:"search-title text-center text-bldBlack Noto-Serif"},it={class:"text-bldGreen"},ut=Object(c["j"])(" 的公車路線搜尋結果 "),st={class:"search-result text-center row"},bt=["onClick"];function dt(t,e,n,a,o,r){var i=Object(c["B"])("Header"),u=Object(c["B"])("Footer");return Object(c["u"])(),Object(c["g"])(c["a"],null,[Object(c["h"])("div",at,[Object(c["k"])(i)]),Object(c["h"])("div",ot,[Object(c["h"])("div",rt,[Object(c["h"])("span",it,Object(c["D"])(o.searchKeyRouteName),1),ut])]),Object(c["h"])("div",st,[Object(c["h"])("ul",null,[(Object(c["u"])(!0),Object(c["g"])(c["a"],null,Object(c["A"])(o.resultRoutes,(function(t){return Object(c["u"])(),Object(c["g"])("li",{key:t.RouteID},[Object(c["h"])("button",{class:"search-btn btn btn-white text-bldBlack Noto-Serif px-2 col",onClick:function(e){return r.updateRouteToDetail(t)}},Object(c["D"])(t.RouteName.Zh_tw),9,bt)])})),128))])]),Object(c["k"])(u)],64)}var lt={name:"SearchResult",components:{Header:V,Footer:tt},props:{routeName:{required:!0}},data:function(){return{resultRoutes:[],searchKeyRouteName:"",routeNameToDetail:"none"}},created:function(){this.searchKeyRouteName=this.routeName,this.getBusRoutes()},methods:{getBusRoutes:function(){var t=this,e=n("bc3a"),c="https://ptx.transportdata.tw/MOTC/v2/Bus/Route/City/Taoyuan/".concat(t.searchKeyRouteName,"?$format=JSON");e.get(c,{headers:t.getAuthorizationHeader()}).then((function(e){t.resultRoutes=e.data,console.log(t.resultRoutes)})).catch((function(t){console.log(t)})),this.getAuthorizationHeader()},updateRouteToDetail:function(t){var e=t.RouteID;this.routeNameToDetail=t.RouteName.Zh_tw,this.$router.push({name:"BusDetail",params:{routeID:e,routeName:this.routeNameToDetail}})},getAuthorizationHeader:function(){var t="769b6e9f60594d2397e5ae2e24a5c5e3",e="qM6fHVPRJkxJTxVkDwJL8ddKJ1A",n=(new Date).toGMTString(),c=new N["a"]("SHA-1","TEXT");c.setHMACKey(e,"TEXT"),c.update("x-date: "+n);var a=c.getHMAC("B64"),o='hmac username="'+t+'", algorithm="hmac-sha1", headers="x-date", signature="'+a+'"';return{Authorization:o,"X-Date":n}}}};n("234d");const ht=r()(lt,[["render",dt],["__scopeId","data-v-28e367f8"]]);var pt=ht,ft=function(t){return Object(c["x"])("data-v-3db49043"),t=t(),Object(c["v"])(),t},Ot={class:"fixed-top"},jt={class:"container-fluid pt-5"},mt={class:"detail-title text-center text-bldBlack Noto-Serif"},vt={class:"text-bldGreen"},gt=Object(c["j"])(" 路線的到站資訊 "),Dt={class:"card mx-auto"},St=ft((function(){return Object(c["h"])("div",{class:"card-header text-center bg-bldGreen text-white"},"指定站牌",-1)})),xt={value:"",disabled:""},wt=["value"],yt={class:"direction-selection d-flex justify-content-evenly mx-auto"};function Tt(t,e,n,a,o,r){var i=Object(c["B"])("Header"),u=Object(c["B"])("router-link"),s=Object(c["B"])("router-view"),b=Object(c["B"])("Footer");return Object(c["u"])(),Object(c["g"])(c["a"],null,[Object(c["h"])("div",Ot,[Object(c["k"])(i)]),Object(c["h"])("div",jt,[Object(c["h"])("div",mt,[Object(c["h"])("span",vt,Object(c["D"])(o.routeName),1),gt]),Object(c["h"])("div",Dt,[St,Object(c["J"])(Object(c["h"])("select",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return o.theStop=t}),class:"card-body form-select text-center mx-auto","aria-label":"Default select example"},[Object(c["h"])("option",xt,Object(c["D"])(o.stopsList[3].StopName.Zh_tw),1),(Object(c["u"])(!0),Object(c["g"])(c["a"],null,Object(c["A"])(o.stopsList,(function(t){return Object(c["u"])(),Object(c["g"])("option",{value:t.StopID,key:t.StopID},Object(c["D"])(t.StopName.Zh_tw),9,wt)})),128))],512),[[c["F"],o.theStop]])]),Object(c["k"])(c["b"],{name:"slide-fade",mode:"out-in"},{default:Object(c["I"])((function(){return[(Object(c["u"])(),Object(c["g"])("div",{key:o.theStop,class:"stops-card px-2 mx-auto"},[Object(c["h"])("div",yt,[Object(c["k"])(u,{to:{name:"Direction0",params:{routeID:n.routeID}}},{default:Object(c["I"])((function(){return[Object(c["h"])("button",{class:Object(c["q"])([{selectedColor:"0"==o.direction},"direction-btn search-btn btn text-bldBlack Noto-Sans px-5 my-1"]),onClick:e[1]||(e[1]=function(t){return o.direction=0})}," 去程 ",2)]})),_:1},8,["to"]),Object(c["k"])(u,{to:{name:"Direction1",params:{routeID:n.routeID}}},{default:Object(c["I"])((function(){return[Object(c["h"])("button",{class:Object(c["q"])([{selectedColor:"1"==o.direction},"direction-btn btn btn-white text-bldBlack Noto-Sans px-5 my-1"]),onClick:e[2]||(e[2]=function(t){return o.direction=1})}," 返程 ",2)]})),_:1},8,["to"])]),Object(c["k"])(s,{routeIDupdate:n.routeID,theStop:o.theStop},null,8,["routeIDupdate","theStop"])]))]})),_:1})]),Object(c["k"])(b)],64)}n("4e82"),n("a9e3");var kt={name:"BusDetail",components:{Header:V,Footer:tt},props:{routeID:{type:String,required:!0}},data:function(){return{direction:"0",routeName:"",stopsList:[],theStop:""}},created:function(){this.getStopsList()},methods:{getStopsList:function(){var t=this,e=n("bc3a"),c="https://ptx.transportdata.tw/MOTC/v2/Bus/StopOfRoute/City/Taoyuan?$filter=RouteID%20eq%20'".concat(t.routeID,"'&$format=JSON");e.get(c,{headers:t.getAuthorizationHeader()}).then((function(e){t.routeName=e.data[0].RouteName.Zh_tw,t.stopsList=e.data[0].Stops.sort((function(t,e){return Number(t.StopSequence)-Number(e.StopSequence)}))})).catch((function(t){console.log(t)})),this.getAuthorizationHeader()},getAuthorizationHeader:function(){var t="769b6e9f60594d2397e5ae2e24a5c5e3",e="qM6fHVPRJkxJTxVkDwJL8ddKJ1A",n=(new Date).toGMTString(),c=new N["a"]("SHA-1","TEXT");c.setHMACKey(e,"TEXT"),c.update("x-date: "+n);var a=c.getHMAC("B64"),o='hmac username="'+t+'", algorithm="hmac-sha1", headers="x-date", signature="'+a+'"';return{Authorization:o,"X-Date":n}}}};n("b410");const Nt=r()(kt,[["render",Tt],["__scopeId","data-v-3db49043"]]);var Bt=Nt,Rt=(n("fb6a"),n("6341")),It=n.n(Rt),At={class:"container bg-bldWhite"},Ht={class:"sessions mt-4 mx-auto"},Mt={key:0,class:"Noto-Sans text-right fs-6"},_t={class:"col-3 timeline-left text-center"},Jt={class:"row time"},Ct={key:0,class:"row arrow ms-1"},qt={key:0,src:It.a,alt:"pin"},Pt={key:0},zt={key:1},Gt={key:2},Kt={key:3},Vt={key:4,class:"Noto-Sans text-bldBlack"};function Lt(t,e,n,a,o,r){var i=this;return Object(c["u"])(),Object(c["g"])("div",At,[Object(c["h"])("div",Ht,[o.Direction0.length<1?(Object(c["u"])(),Object(c["g"])("div",Mt," ※無資料 ")):Object(c["f"])("",!0),(Object(c["u"])(!0),Object(c["g"])(c["a"],null,Object(c["A"])(o.Direction0Temp.slice(0,7),(function(t,e){return Object(c["u"])(),Object(c["g"])("div",{key:e,class:"row g-1"},[Object(c["h"])("div",_t,[Object(c["h"])("div",Jt,Object(c["D"])(r.arriveTime(t.NextBusTime)),1),t.PlateNumb&&i.Direction0Temp[e+1].PlateNumb==t.PlateNumb?(Object(c["u"])(),Object(c["g"])("div",Ct)):Object(c["f"])("",!0)]),Object(c["h"])("div",{class:Object(c["q"])(["noBus col-8",{bus:1==t.VehicleStopStatus,noBus:1!==t.VehicleStopStatus}])},[Object(c["h"])("div",{class:Object(c["q"])([{bldBlack:3!==e,bldGreen:3==e},"stop Noto-Sans"])},[3==e?(Object(c["u"])(),Object(c["g"])("img",qt)):Object(c["f"])("",!0),Object(c["j"])(" "+Object(c["D"])(t.StopName.Zh_tw),1)],2),1==t.StopStatus?(Object(c["u"])(),Object(c["g"])("p",Pt,"尚未發車")):Object(c["f"])("",!0),2==t.StopStatus?(Object(c["u"])(),Object(c["g"])("p",zt,"交管不停靠")):Object(c["f"])("",!0),3==t.StopStatus?(Object(c["u"])(),Object(c["g"])("p",Gt,"末班車已過")):Object(c["f"])("",!0),4==t.StopStatus?(Object(c["u"])(),Object(c["g"])("p",Kt,"今日未營運")):Object(c["f"])("",!0),0==t.StopStatus?(Object(c["u"])(),Object(c["g"])("p",Vt," 約 "+Object(c["D"])(r.secondBetweenTwoDate(t.NextBusTime))+" 分鐘後到站 ",1)):Object(c["f"])("",!0)],2)])})),128))])])}n("c740"),n("99af"),n("4de4"),n("d3b7");var Xt={name:"Direction0",props:{routeID:{type:String,required:!0},theStop:{type:String,required:!1}},data:function(){return{Direction0:[],Direction0Temp:[]}},created:function(){this.getBusTime()},watch:{theStop:function(){var t=this;this.Direction0Temp=this.Direction0;var e=this.Direction0.findIndex((function(e){return e.StopID==t.theStop}));e>3&&(this.Direction0Temp=this.Direction0Temp.slice(e-3)),this.$forceUpdate(this.Direction0Temp)}},methods:{arriveTime:function(t){var e=new Date(t);return e.getMinutes()<10?"".concat(e.getHours()," : 0").concat(e.getMinutes()):e.getMinutes()>10?"".concat(e.getHours()," : ").concat(e.getMinutes()):void 0},secondBetweenTwoDate:function(t){var e=new Date(t);return Math.floor(Math.abs(((new Date).getTime()-e.getTime())/1e3)/60)},getBusTime:function(){var t=this,e=n("bc3a"),c="https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/Taoyuan?$filter=RouteID%20eq%20'".concat(t.routeID,"'&$format=JSON");e.get(c,{headers:t.getAuthorizationHeader()}).then((function(e){var n=e.data.filter((function(t){return"0"==t.Direction}));t.Direction0=n.sort((function(t,e){return Number(t.StopSequence)-Number(e.StopSequence)})),t.Direction0Temp=t.Direction0})).catch((function(t){console.log(t)})),this.getAuthorizationHeader()},getAuthorizationHeader:function(){var t="769b6e9f60594d2397e5ae2e24a5c5e3",e="qM6fHVPRJkxJTxVkDwJL8ddKJ1A",n=(new Date).toGMTString(),c=new N["a"]("SHA-1","TEXT");c.setHMACKey(e,"TEXT"),c.update("x-date: "+n);var a=c.getHMAC("B64"),o='hmac username="'+t+'", algorithm="hmac-sha1", headers="x-date", signature="'+a+'"';return{Authorization:o,"X-Date":n}}}};n("8af2");const Et=r()(Xt,[["render",Lt],["__scopeId","data-v-2d961724"]]);var $t=Et,Ft={class:"container bg-bldWhite"},Zt={class:"sessions mt-4 mx-auto"},Ut={key:0,class:"Noto-Sans text-right fs-6"},Wt={class:"col-3 timeline-left text-center"},Qt={class:"row time"},Yt={key:0,class:"row arrow ms-1"},te={key:0,src:It.a,alt:"pin"},ee={key:0},ne={key:1},ce={key:2},ae={key:3},oe={key:4,class:"Noto-Sans text-bldBlack"};function re(t,e,n,a,o,r){var i=this;return Object(c["u"])(),Object(c["g"])("div",Ft,[Object(c["h"])("div",Zt,[o.Direction1.length<1?(Object(c["u"])(),Object(c["g"])("div",Ut," ※無資料 ")):(Object(c["u"])(!0),Object(c["g"])(c["a"],{key:1},Object(c["A"])(o.Direction1Temp.slice(0,7),(function(t,e){return Object(c["u"])(),Object(c["g"])("div",{key:e,class:"row g-1"},[Object(c["h"])("div",Wt,[Object(c["h"])("div",Qt,Object(c["D"])(r.arriveTime(t.NextBusTime)),1),t.PlateNumb&&i.Direction1Temp[e+1].PlateNumb==t.PlateNumb?(Object(c["u"])(),Object(c["g"])("div",Yt)):Object(c["f"])("",!0)]),Object(c["h"])("div",{class:Object(c["q"])(["noBus col-8",{bus:1==t.VehicleStopStatus,noBus:1!==t.VehicleStopStatus}])},[Object(c["h"])("div",{class:Object(c["q"])([{bldBlack:3!==e,bldGreen:3==e},"stop Noto-Sans"])},[3==e?(Object(c["u"])(),Object(c["g"])("img",te)):Object(c["f"])("",!0),Object(c["j"])(" "+Object(c["D"])(t.StopName.Zh_tw),1)],2),1==t.StopStatus?(Object(c["u"])(),Object(c["g"])("p",ee,"尚未發車")):Object(c["f"])("",!0),2==t.StopStatus?(Object(c["u"])(),Object(c["g"])("p",ne,"交管不停靠")):Object(c["f"])("",!0),3==t.StopStatus?(Object(c["u"])(),Object(c["g"])("p",ce,"末班車已過")):Object(c["f"])("",!0),4==t.StopStatus?(Object(c["u"])(),Object(c["g"])("p",ae,"今日未營運")):Object(c["f"])("",!0),0==t.StopStatus?(Object(c["u"])(),Object(c["g"])("p",oe," 約 "+Object(c["D"])(r.secondBetweenTwoDate(t.NextBusTime))+" 分鐘後到站 ",1)):Object(c["f"])("",!0)],2)])})),128))])])}var ie={name:"Direction1",props:{routeID:{type:String,required:!0},theStop:{type:String,required:!1}},data:function(){return{Direction1:[],Direction1Temp:[]}},created:function(){this.getBusTime()},watch:{theStop:function(){var t=this;this.Direction1Temp=this.Direction1;var e=this.Direction1.findIndex((function(e){return e.StopID==t.theStop}));e>3&&(this.Direction1Temp=this.Direction1Temp.slice(e-3)),this.$forceUpdate(this.Direction1Temp)}},computed:{},methods:{arriveTime:function(t){var e=new Date(t);return e.getMinutes()<10?"".concat(e.getHours()," : 0").concat(e.getMinutes()):e.getMinutes()>10?"".concat(e.getHours()," : ").concat(e.getMinutes()):void 0},secondBetweenTwoDate:function(t){var e=new Date(t);return Math.floor(Math.abs(((new Date).getTime()-e.getTime())/1e3)/60)},getBusTime:function(){var t=this,e=n("bc3a"),c="https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/Taoyuan?$filter=RouteID%20eq%20'".concat(t.routeID,"'&$format=JSON");e.get(c,{headers:t.getAuthorizationHeader()}).then((function(e){var n=e.data.filter((function(t){return"1"==t.Direction}));t.Direction1=n.sort((function(t,e){return Number(t.StopSequence)-Number(e.StopSequence)})),t.Direction1Temp=t.Direction1})).catch((function(t){console.log(t)})),console.log(t.Direction1),this.getAuthorizationHeader()},getAuthorizationHeader:function(){var t="769b6e9f60594d2397e5ae2e24a5c5e3",e="qM6fHVPRJkxJTxVkDwJL8ddKJ1A",n=(new Date).toGMTString(),c=new N["a"]("SHA-1","TEXT");c.setHMACKey(e,"TEXT"),c.update("x-date: "+n);var a=c.getHMAC("B64"),o='hmac username="'+t+'", algorithm="hmac-sha1", headers="x-date", signature="'+a+'"';return{Authorization:o,"X-Date":n}}}};n("6deb");const ue=r()(ie,[["render",re],["__scopeId","data-v-f6884788"]]);var se=ue,be=[{path:"/",name:"Index",component:ct,props:!0},{path:"/searchResult/:routeName",name:"SearchResult",component:pt,props:!0},{path:"/BusDetail/:routeID/",name:"BusDetail",component:Bt,props:!0,redirect:{name:"Direction0"},children:[{path:"0",name:"Direction0",component:$t,props:!0},{path:"1",name:"Direction1",component:se,props:!0}]}],de=Object(b["a"])({history:Object(b["b"])(),routes:be}),le=de,he=n("bc3a"),pe=n.n(he),fe=n("130e");n("68df");Object(c["d"])(s).use(le,fe["a"],pe.a).mount("#app")},6341:function(t,e,n){t.exports=n.p+"img/pin.b4ceb407.svg"},"68df":function(t,e,n){},"6deb":function(t,e,n){"use strict";n("f5ea")},"7f45":function(t,e,n){"use strict";n("d136")},"89ce":function(t,e,n){},"8af2":function(t,e,n){"use strict";n("eae3")},9145:function(t,e,n){"use strict";n("89ce")},b410:function(t,e,n){"use strict";n("40a2")},b9b6:function(t,e,n){"use strict";n("31bb")},d136:function(t,e,n){},da56:function(t,e,n){},eae3:function(t,e,n){},f5ea:function(t,e,n){}});
//# sourceMappingURL=app.7a4d7020.js.map